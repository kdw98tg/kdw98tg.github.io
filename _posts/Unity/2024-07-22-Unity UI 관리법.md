---
title: "[Unity] Unity UI ê´€ë¦¬ë²•"

categories:
  -  Unity
  
tags:
  - [Unity, UI, UGUI]

toc: true
toc_sticky: true

published: true

date: 2024-07-22
last_modified_at: 2024-07-22
---

## Unityì˜ UI ê´€ë¦¬ë²•

ìœ ë‹ˆí‹°ì˜ UI ê´€ë¦¬ë²•ì€ Canvasë¥¼ ìœ„ì— ë‘ê³ , ê·¸ ìœ„ì— ì»´í¬ë„ŒíŠ¸ë“¤ì„ ê·¸ë¦¬ëŠ” ë°©ì‹ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤. ì´ë¥¼ UGUI ë¼ê³  í•©ë‹ˆë‹¤.

UIë¥¼ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì€ ì…€ ìˆ˜ ì—†ì´ ë§ì§€ë§Œ, ì €ëŠ” ì´ë²ˆì— UIë§ˆë‹¤ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ì„œ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

ë˜í•œ, ìƒì†ì„ ì´ìš©í•˜ì—¬ ê° UIë“¤ì˜ ì„±ì§ˆì„ ë¯¸ë¦¬ ì •ì˜ í•œ í›„, ìº¡ìŠí™” í•˜ì—¬ ëª¨ë“  ë²„íŠ¼ë“¤ì´ ìº¡ìŠí™”ëœ í•¨ìˆ˜ë¥¼ ì°¸ì¡°í•˜ë„ë¡ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

ì˜ˆì‹œëŠ” UI_YesNoDialog ë¥¼ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.

![](/images/Pasted%20image%2020240722143119.png)

## UI ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

![](/images/Pasted%20image%2020240722144025.png)
ìš°ì„  ì œê°€ ë§Œë“  í•˜ì´ì–´ë¼í‚¤ êµ¬ì¡° ì…ë‹ˆë‹¤. ìì‹ìœ¼ë¡œ ë‹¬ë ¤ìˆëŠ” Button ì´ë‚˜ Textë¥¼ ì°¾ê¸° ìœ„í•œ ë°©ë²•ìœ¼ë¡œëŠ” `public` í•„ë“œë¡œ ë§Œë“¤ì–´ì„œ ë“œë˜ê·¸ ì•¤ ë“œë¡­ í•˜ê¸°, ë˜ëŠ” `GetComponentInChildren`ì„ ì‚¬ìš©í•˜ì—¬ ì°¸ì¡°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

`public`í•„ë“œë¡œ ëª¨ë“  ê°ì²´ë“¤ì„ ë“œë˜ê·¸ ì•¤ ë“œë¡­ í•  ì‹œ, ê°ì²´ì§€í–¥ì—ì„œ ë§ì´ ë²—ì–´ë‚˜ê¸° ë•Œë¬¸ì—, ì €ëŠ” `GetComponentInChildren`ìœ¼ë¡œ ì „ë¶€ ì°¾ì•„ì£¼ì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ GetComponentInChildrenì„ í•˜ê¸° ìœ„í•´ì„œëŠ” Generic ì•ˆì— ì°¾ì•„ì•¼ í•  ê°ì²´ì˜ íƒ€ì…ì„ ë„£ì–´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì œì–´ê°€ í•„ìš”í•œ UIì— í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ ë‹¤ ë¶™ì—¬ì£¼ì—ˆìŠµë‹ˆë‹¤.

![](/images/Pasted%20image%2020240722144311.png)

```csharp
public class UI_YesNoDialog : UI_Popup
{
    #region UI
    private UI_YesNoDialog_Button_Yes buttonYes = null;
    private UI_YesNoDialog_Button_No buttonNo = null;

    private UI_YesNoDialog_Text_Content contentText = null;
    private UI_YesNoDialog_Text_Title titleText = null;

    private UI_YesNoDialog_Image_Background imageBackground = null;
    #endregion

    private Action onYesButtonClickCallback = null;
    private Action onNoButtonClickCallback = null;

    protected override void Awake()
    {
        base.Awake();
        buttonYes = GetComponentInChildren<UI_YesNoDialog_Button_Yes>();
        buttonNo = GetComponentInChildren<UI_YesNoDialog_Button_No>();

        contentText = GetComponentInChildren<UI_YesNoDialog_Text_Content>();
        titleText = GetComponentInChildren<UI_YesNoDialog_Text_Title>();

        imageBackground = GetComponentInChildren<UI_YesNoDialog_Image_Background>();
    }
}
```

ì´ë ‡ê²Œë§Œ í•˜ë©´, Button ì´ë“  Text ì´ë“  ë‹¤ì‹œ GetComponentë¥¼ í•´ì•¼í•˜ê¸° ë•Œë¬¸ì—, ê·¸ ê³¼ì •ì„ ì¤„ì´ê³ ì ìƒì†ì„ ì‚¬ìš©í•˜ì—¬ ì¤‘ë³µì½”ë“œë¥¼ ì œê±°í•˜ì˜€ìŠµë‹ˆë‹¤.

ìƒì†êµ¬ì¡°ëŠ” `UI_Base` - `UI_SubItem` - `UI_Button` ì…ë‹ˆë‹¤.

ğŸ—… **<span style="color: #c03a92">class UI_YesNoDialog_Button_Yes</span>**
```csharp
public class UI_YesNoDialog_Button_Yes : UI_Button
{

}
```

ğŸ—… **<span style="color: #c03a92">class UI_Button</span>**
```csharp
public class UI_Button : UI_SubItem
{
    protected Button button = null;
    private UnityAction onClickEvent = null;

    protected override void Awake()
    {
        base.Awake();
        button = GetComponent<Button>();
    }
    
    public void SetOnClickEvent(UnityAction _onClickEvent)
    {
        button.onClick.RemoveAllListeners();
        button.onClick.AddListener(PlayButtonClickSound);
        button.onClick.AddListener(_onClickEvent);
    }
}
```

ì´ëŸ°ì‹ìœ¼ë¡œ êµ¬í˜„ í•œ í›„, `Button`ì— `OnClick`ì´ë²¤íŠ¸ë¥¼ ë‹¬ê³  ì‹¶ë‹¤ë©´ ì œì–´í•˜ëŠ” UI ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

ğŸ—… **<span style="color: #c03a92">class UI_YesNoDialog</span>**
```csharp
public class UI_YesNoDialog : UI_Popup
{
    public void Init(string _titleString, string _contentString, Action _onYesButtonClick, Action _onNoButtonClick)
    {
        SetText(_titleString, _contentString);
        SetOnYesButtonClickCallback(_onYesButtonClick);
        SetOnNoButtonClickCallback(_onNoButtonClick);
        SetChildButtonClickEvent();
    }

    public void SetChildButtonClickEvent()
    {
        buttonYes.SetOnClickEvent(OnYesButtonClick);
        buttonNo.SetOnClickEvent(OnNoButtonClick);
    }
}
```

ì´ëŸ°ì‹ìœ¼ë¡œ `OnClick`ì´ë²¤íŠ¸ë¥¼ ë‹¬ì•„ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ ì™¸ì—ë„ ë²„íŠ¼ì˜ ìƒ‰ìƒì„ ë°”ê¾¼ë‹¤ë˜ì§€, ë²„íŠ¼ì— ì‚¬ìš´ë“œë¥¼ ì…íŒë‹¤ë˜ì§€ì˜ ê¸°ëŠ¥ë“¤ì„ `UI_Button`ì—ì„œ í•œë²ˆì— ê´€ë¦¬í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ìˆ˜ì •ì— ìš©ì´í•˜ë‹¤ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.

`UI_Button`ì„ ìƒì†ë°›ê¸°ë§Œ í•˜ê³ , SetOnClickEvent ë§Œ í•´ì¤€ë‹¤ë©´ í•œë²ˆì˜ ìˆ˜ì •ìœ¼ë¡œ ëª¨ë“  ë²„íŠ¼ë“¤ì„ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë˜í•œ, ê²°í•©ë„ë¥¼ ë‚®ì¶”ê¸° ìœ„í•´ ìœ„ì˜ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, ëª¨ë“  ë²„íŠ¼ì´ë²¤íŠ¸ë“¤ì„ `Callback`ìœ¼ë¡œ ë¶„ë¦¬í•´ `Init`ì—ì„œ ë„£ì–´ì£¼ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.

## ì‹¤ì œ ì‚¬ìš©

ì‹¤ì œë¡œ Dialogë¥¼ ë„ìš°ëŠ” ì½”ë“œì…ë‹ˆë‹¤. `Close()`ì™€ `Show()` ë„ `UI_Base`ì˜ í™•ì¥ ë©”ì„œë“œ ì´ë¯€ë¡œ, ì• ë‹ˆë©”ì´ì…˜ì„ ì¶”ê°€í•˜ë˜ì§€, ë‹¤ë¥¸ ì‘ì—…ì„ ì¶”ê°€í•˜ë˜ì§€ ë„ í™•ì¥ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```csharp
    private void Test_UI_YesNoDialog()
    {
        UI_YesNoDialog dialog = UIManager.Instance.GetOrInstantiateWithPool<UI_YesNoDialog>();
        dialog.Init("YesNoDialog", "YesNoDialog Content", () => { dialog.Close(); }, () => { dialog.Close(); });
        dialog.Show();
    }
```

